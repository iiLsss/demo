<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>小球自由落体</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        div{
            width: 100px;
            height: 100px;
            background: red;
            border-radius: 50%;
            position:absolute;
        }
    </style>
    <script>
        window.onload=function(){
            var oBtn=document.getElementsByTagName("button")[0];
            var oDiv=document.getElementsByTagName("div")[0];
            oBtn.onclick=function(){
                var speedX= 5,speedY=5;
                setInterval(function(){  // 计时器 每0.02s 运行一次
                    speedY+=2; // 给垂直方向加速度  每0.02s speedY+2
                    var t=oDiv.offsetTop+speedY;     //创建t变量保存上边距离
//                    console.log(oDiv.offsetTop);
                    var l=oDiv.offsetLeft+speedX;    //创建l变量保存左边距离
//                    console.log(oDiv.offsetLeft);

                    //判断运动边界
                    if(t>=document.documentElement.clientHeight-oDiv.offsetHeight){
                        speedY*=-0.8;
                        speedX*=0.8;
                        t=document.documentElement.clientHeight-oDiv.offsetHeight
                    }else if(t<0){
                        speedY*=-0.8;
                        speedX*=0.8;
                    }
                    if(l>=document.documentElement.clientWidth-oDiv.offsetWidth){
                        speedX*=-0.8;
                        l=document.documentElement.clientWidth-oDiv.offsetWidth
                    }else if(l<0){
                        speedX*=-0.8;
                    }


                    oDiv.style.top=t+"px";
                    oDiv.style.left=l+"px";
                },20)
            }
        }
    </script>
</head>
<body>
    <button>自由落体</button>
    <div></div>
</body>
</html>